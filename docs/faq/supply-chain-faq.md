<rtl>

# ุฃุณุฆูุฉ ูู ููุฏููู ุงูุชูุฒูุน ูุงููุฎุงุฒู ูุงููุจูุนุงุช ูุงููุดุชุฑูุงุช 

ุฅููู ูุณุฎุฉ ูููุญุฉ ูููุณูุฉ ุจุดูู ุงุญุชุฑุงูู ูููุญุชูู ุงูุฐู ูุฏูุชูุ ูุน ุงูุญูุงุธ ุนูู ุฌููุน ุงููุนูููุงุช ุงููููุฉ:

---

## **ูู ูููู ููุน ุงููุณุชุฎุฏู ูู ุงุณุชูุงู ุฃู ุดุฑุงุก ุตูู ุฅุฐุง ุชุฌุงูุฒ ุงููููุฉ ุงููุตููุ**

ูุนูุ ูููู ุฐูู ูู ุฎูุงู ุฅุนุฏุงุฏุงุช ุงููุธุงูุ ูุฐูู ุจุงุณุชุฎุฏุงู ูุณุงุฑุงุช ููุงู ูุฎุตุตุฉ ุฃู ุงูุชุญูู ุจูุงุกู ุนูู ูุนุงููุฑ.

---

### โ **ุงูุฎูุงุฑ ุงูุฃูุถู: ุงุณุชุฎุฏุงู ูุณุงุฑ ุงูููุงู `EAPreventQtyMoreThan`**

* ููุณุชุฎุฏู ูุฐุง ุงููุณุงุฑ ูููุน ุงูุญุฑูุงุช (ูุซู ุงูุดุฑุงุก ุฃู ุงูุงุณุชูุงู) ุฅุฐุง ุชุฌุงูุฒุช **ุฅุฌูุงูู ูููุฉ ุงูุตูู** ูู ุงููุณุชูุฏ ุงููููุฉ ุงููุญุฏุฏุฉ ูู ุงูุญูู `maxQuantity` ุงูููุฌูุฏ ุฏุงุฎู ุจุทุงูุฉ ุงูุตูู.

#### ๐ข **ุงุณุชุนูุงู ุงูููุงุฑูุฉ:**

```sql
select {details.item.item.defaultDetailData.maxQuantity}
```

> ูุฐุง ุงูุงุณุชุนูุงู ููุณุชุฎุฏู ุฏุงุฎู ุงููุณุงุฑ ูููุงุฑูุฉ ุฅุฌูุงูู ุงููููุฉ ูุน ุงูุญุฏ ุงูุฃูุตู ุงููุณููุญ ุจู ููู ุตูู.

---

### โ๏ธ **ุชูุจูู ููู:**

::: tip ุงููุธุงู ููุฌุฑู ุงูุชุญูู ุนูู **ุงููููุฉ ุงููุญูููุฉ ูููุญุฏุฉ ุงูุตุบุฑู** (ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ ููุตูู).

* ูุซุงู: ุฅุฐุง ูุงูุช ุงููุญุฏุฉ ุงูุตุบุฑู "ุฌุฑุงู"ุ ูุชู ุฅุฏุฎุงู ุงููููุฉ ุจุงูููููุ ูุงููุธุงู ุณูุญููู ุงููููุฉ ุฅูู "ุฌุฑุงู" ูุจู ุงูููุงุฑูุฉ.
* ูุฐุง ูููุตุญ ุจุฑุจุท ุงููุณุงุฑ ูุน **ูุฑุญูุฉ ูุง ูุจู ุงูุญูุธ** ูุถูุงู ุชุญููู ุงููููุฉ ูุนูููุง ูููุญุฏุฉ ุงูุตุบุฑู.
  :::

---

### ๐ **ุจุฏูู ุขุฎุฑ: ูุณุงุฑ `EAPreventQtyLessThan`**

::: tip ุฅุฐุง ููุช ุจุญุงุฌุฉ ูููุน ุฅุฏุฎุงู ูููุฉ **ุฃูู ูู ุญุฏ ูุนูู**ุ ููููู ุงุณุชุฎุฏุงู ุงููุณุงุฑ ุงูุชุงูู: `EAPreventQtyLessThan`
:::

---

::: tip โ๏ธ **ุฎูุงุฑ ุขุฎุฑ (ุฃูู ุฏูุฉ): ุงูุชุญูู ุจูุงุกู ุนูู ูุนุงููุฑ**
ููููู ุฃูุถูุง ุชูููุฐ ุงูุชุญูู ุจุงุณุชุฎุฏุงู **ูุนุงููุฑ ูุจุงุดุฑุฉ** ุฏุงุฎู ูููุงุช ุงูุชุญููุ ูุฐูู ุจููุงุฑูุฉ ูููุฉ ุงูุณุทุฑ ูุน ุงูุญูู `maxQuantity` ูู ุจุทุงูุฉ ุงูุตูู.

ููู ุงูุชุจู:

* ูุฐุง ุงูุชุญูู ูุชู **ููู ุณุทุฑ ุนูู ุญุฏุฉ**.
* ุฅุฐุง ุชูุฑุฑ ููุณ ุงูุตูู ูู ุฃูุซุฑ ูู ุณุทุฑุ ูู ูุชู ุชุฌููุน ุงููููุฉุ ููุง ูุฏ ูุณูุญ ุจุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู ุนุจุฑ ุนุฏุฉ ุณุทูุฑ.

โ ููุฐุง ุงูุณุจุจุ ูููุถู ุงุณุชุฎุฏุงู ูุณุงุฑ ุงูููุงู `EAPreventQtyMoreThan` ูุฃูู ููุฑุงุนู **ุฅุฌูุงูู ุงููููุฉ** ููู ุตูู ุฏุงุฎู ุงููุณุชูุฏ.
:::

## ูุง ูู ูุนุงูุฌุฉ ุงููุฑู ูุง ุจูู ูููุฉ ูุฑุฏูุฏ ุงููุดุชุฑูุงุช ุงูุชู ุชู ุงุณุชุฑุฏุงุฏูุง ูู ุงูููุฑุฏ - ูุชูููุฉ ุงูุตุฑู ุงููุฎุฒูู ุงููุงุชุฌ ุนููุง ุ
- ูุฑุฌู ูุฑุงุกุฉ [ูุฐุง ุงูููุงู](https://www.namasoft.com/ar/article/%d8%a7%d9%84%d8%b9%d8%b1%d8%a8%d9%8a%d8%a9-%d8%a7%d9%84%d9%85%d8%b9%d8%a7%d9%84%d8%ac%d8%a9-%d8%a7%d9%84%d9%85%d8%ad%d8%a7%d8%b3%d8%a8%d9%8a%d8%a9-%d9%84%d9%84%d9%81%d8%b1%d9%82-%d8%a8%d9%8a%d9%86/) ููุนุฑูุฉ ุชูุงุตูู ุงููุดููุฉ ูุงูุญููู ุงููุชุงุญุฉ
- ููููู ูุนุฑูุฉ ุงููุฒูุฏ ูู ุฎูุงู ุงูููุฏูู ุงูุชุงูู:
  <iframe width="560" height="315" src="https://www.youtube.com/embed/UXodW-O9wN0?si=JzzcgpmAHhtktXaH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

## **ูู ูููู ุฑุจุท ุตูู ุจูุฎุฒู ุฃู ูููุน ูุนููุ ุฃู ุจุนุฏุฉ ูุฎุงุฒู ุจุญูุซ ูููุน ุงููุธุงู ุงูุญุฑูุงุช ุฎุงุฑุฌ ูุฐู ุงููุฎุงุฒูุ**

ูุนูุ ูููู ุฐูู ูู ุฎูุงู ุงุณุชุฎุฏุงู ููู <LinkToNewRecord entityType="ItemWarehouseRelation" />

### **ุงูุฎุทูุงุช ุงููุทููุจุฉ:**

1. **ุชูุนูู ุงูุฎูุงุฑ ุงูุชุงูู ูู ุฅุนุฏุงุฏุงุช ุณูุณูุฉ ุงูุชูุฑูุฏ (Supply Chain):**
<SupplyChainOption option-code="value.activateItemWarehouseRelation" link-title="ุชูุนูู ุฑุจุท ุงูุฃุตูุงู ุจุงููุฎุฒู" />

2. **ุฅูุดุงุก ููู "ุฑุจุท ุฃุตูุงู ุจูุฎุงุฒู":**
   ูุญุชูู ูุฐุง ุงูููู ุนูู ุฌุฏูู ุชูุงุตูู ูููุณู ุฅูู ูุณููู ุฑุฆูุณููู:

   #### **ุฃููุงู: ุชุญุฏูุฏ ุงูุตูู**

   ูููู ุชุญุฏูุฏ ุงูุฃุตูุงู ุจุงุณุชุฎุฏุงู ูุงุญุฏ ุฃู ุฃูุซุฑ ูู ุงููุนุงููุฑ ุงูุชุงููุฉ:

  * ุงูุตูู ููุณู
  * ุฃู ูู ุงูุชุตูููุงุช ุงูุนุดุฑ ุงูุฎุงุตุฉ ุจุงูุตูู
  * ูุณู ุงูุตูู
  * ุฃู ูู ุงููุฆุงุช ุงูุฎูุณ

   #### **ุซุงููุงู: ุชุญุฏูุฏ ุงููุฎุฒู ุฃู ุงููููุน ูููุน ุงูุฑุจุท**

  * **ุงููุฎุฒู ุฃู ุงููููุน** ุงูุฐู ุชุฑุบุจ ูู ุชูููุฏ ุงูุญุฑูุฉ ูุนู.
  * **ููุน ุงูุฑุจุท** ููุดูู:

    * **ุงูุณูุงุญ ุจุงูุชุนุงูู**: ูุณูุญ ุจุชูููุฐ ุงูุญุฑูุงุช ููุท ูู ุงููุฎุงุฒู ุงููุญุฏุฏุฉ.
    * **ููุน ุงูุชุนุงูู**: ูููุน ุชูููุฐ ุงูุญุฑูุงุช ูุน ุงููุฎุงุฒู ุงููุญุฏุฏุฉ.

---

### **ุฃูุซูุฉ ุนูููุฉ:**

#### โ ุงูุณูุงุญ ุจุงูุชุนุงูู:

**ูุซุงู:** ุงูุณูุงุญ ุจุงูุชุนุงูู ูุน ุงูุฃุตูุงู ุงูุชู ููุชูู ูุณููุง ุฅูู "ุฎุงูุงุช" ุจุงูุตุฑู ูุงูุชูุฑูุฏ ููุท ูู ูุฎุฒู "ุงูุฎุงูุงุช".

* ุฃุฏุฎู "ุฎุงูุงุช" ูู ุญูู **ูุณู ุงูุตูู**.
* ุฃุฏุฎู "ุงูุฎุงูุงุช" ูู ุญูู **ุงููุฎุฒู**.
* ุงุฎุชุฑ ููุน ุงูุฑุจุท: **ุงูุณูุงุญ ุจุงูุชุนุงูู**.

#### โ ููุน ุงูุชุนุงูู:

**ูุซุงู:** ููุน ุงูุชุนุงูู ูุน ุตูู "ุญูุถ ุงููุจุฑูุชูู" ูู ูุฎุฒู "ุงูููุชุฌุงุช ุงูุชุงูุฉ".

* ุฃูุดุฆ ุณุทุฑูุง ุฌุฏูุฏูุง ูุญุชูู ุนูู:

  * **ุงูุตูู:** ุญูุถ ุงููุจุฑูุชูู
  * **ุงููุฎุฒู:** ุงูููุชุฌุงุช ุงูุชุงูุฉ
  * **ููุน ุงูุฑุจุท:** ููุน ุงูุชุนุงูู

---

::: warning **ุชูุจูู ููู:**

ุนูุฏ ุชูุนูู ุงูุฎูุงุฑ ุงูุชุงูู ูู ุฅุนุฏุงุฏุงุช Supply CHain:
<SupplyChainOption option-code="value.itemRelationToWarehouseMustBeSpecified" link-title="ูุฌุจ ุชุญุฏูุฏ ุนูุงูุฉ ุงูุฃุตูุงู ุจุงููุฎุงุฒู" />
ูุฅู ุงููุธุงู **ูู ูุณูุญ ุจุงูุญูุธ ุฃู ุชูููุฐ ุงูุญุฑูุงุช** ุฅูุง ุฅุฐุง ูุงูุช ููุงู ุนูุงูุฉ **"ุณูุงุญ ุจุงูุชุนุงูู"** ูุญุฏุฏุฉ ูุณุจููุง ุจูู ุงูุตูู ูุงููุฎุฒู.
:::

## ูุซุงู ุนูู ุงุณุชุนูุงู ูุญุณุงุจ ุชูููุฉ ุชูุฑูุฏ ุงููุจูุนุงุช ูู ุชูููุฉ ุตุฑู ุงููุจูุนุงุช ุงููุฑุชุจุท ุจุงููุงุชูุฑุฉ

ุจุดูู ุงูุชุฑุงุถูุ ูููู ูุธุงู **Nama ERP** ุจุญุณุงุจ ุชูููุฉ ุชูุฑูุฏ ุงููุจูุนุงุช ุชููุงุฆููุง ุจุงุณุชุฎุฏุงู **ูุชูุณุท ุชูููุฉ ุงูุตูู ูุญุธุฉ ุงูุชูุฑูุฏ**.
ููู ูู ุจุนุถ ุงูุณููุงุฑูููุงุชุ ูุฏ ุชุฑุบุจ ูู ุฑุจุท ุชูููุฉ ุงูุชูุฑูุฏ ุจุดูู ูุจุงุดุฑ ุจุชูููุฉ ุงูุตูู ุงูุชู ุชู ุตุฑููุง ูุนูููุง ูู **ูุงุชูุฑุฉ ุงููุจูุนุงุช** ููุณูุง.

ููููู ุชูููุฐ ุฐูู ุจุงุณุชุฎุฏุงู ุงูุงุณุชุนูุงู ุงูุชุงูู ุฏุงุฎู ุฌุฏูู **ูุตุงุฏุฑ ุชูููุฉ ุงูุชูุฑูุฏ ุบูุฑ ุงููููู** ุถูู ุฅุนุฏุงุฏุงุช ููุฏููู ุงูุชูุฒูุน (**Supply Chain Configuration**):

```sql
select top 1 l.unitCost 
from SalesReturn sr
inner join CostOutTransLine l on l.invoiceId = sr.fromDoc_id
where l.item_id = {item_id}
  and l.revisionId = coalesce({dimensions.specificDimensions.revisionId}, '')
  and l.color = coalesce({dimensions.specificDimensions.color}, '')
  and l.size = coalesce({dimensions.specificDimensions.size}, '')
  and sr.id = {invoiceId}
```

::: tip
ููู ูุชู ุชูุนูู ุงุณุชุฎุฏุงู ูุฐุง ุงูุงุณุชุนูุงู ูู ุญุณุงุจ ุชูููุฉ ุงูุชูุฑูุฏุ ูุฌุจ ุชูุนูู ุงูุฎูุงุฑ ุงูุชุงูู ูู ุฅุนุฏุงุฏุงุช ุณูุณูุฉ ุงูุชูุฑูุฏ 
<SupplyChainOption option-code="value.ignoreCurrentAvgForUnCostedReceipt" link-title="ุชุฌุงูู ูุชูุณุท ุงูุชูููุฉ ุงูุญุงููุฉ ููุชูุฑูุฏุงุช ุงูุบูุฑ ููููุฉ" />

ูููู ูุฐุง ุงูุฎูุงุฑ ุจุฅุฌุจุงุฑ ุงููุธุงู ุนูู ุชุฌุงูู ูุชูุณุท ุงูุชูููุฉ ุงูุญุงูู ุนูุฏ ูุฌูุฏ ูุตุฏุฑ ูุฎุตุต ูุญุณุงุจ ุงูุชูููุฉุ ูุซู ุงูุงุณุชุนูุงู ุงูููุถุญ ุฃุนูุงู.
:::

## ููู ุฃุญุฏุฏ ุณุนุฑ ูุนูู ูุชุตููู ูุงุชูุฑุฉ ุฌููุฉ ูู ููุทุฉ ุงูุจูุน ุฃู ูุงุชูุฑุฉ ุงููุจูุนุงุช ุจุงููุธุงูุ

ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุฃู ุชุนุชูุฏ ูุงุชูุฑุฉ ุงูุฌููุฉ ุนูู ุณุนุฑ ูุฎุชูู ุนู ุงูุณุนุฑ ุงูุงูุชุฑุงุถู ูู ุจุทุงูุฉ ุงูุตูู (ูุซู "ุฃูู ุณุนุฑ")ุ ูููููู ุชูููุฐ ุฐูู ูู ุฎูุงู:

ุงุณุชุนูุงู ุงูุญูู **`ุงูุณุนุฑ ุงูุงูุชุฑุงุถู ูู ูุงุฆูุฉ ุงูุฃุณุนุงุฑ`** ุงูููุฌูุฏ ุถูู ุฅุนุฏุงุฏุงุช **ุชุตููู ุงููุงุชูุฑุฉ**.

ูุฐุง ุงูุญูู ูุญุฏุฏ ูู ุฃูู ูุณุชูุฏ ุงููุธุงู ุงูุณุนุฑ ุงููุณุชุฎุฏู ูู ุงูุณุทูุฑุ ุญุชู ูุฅู ูู ุชูู ุชุณุชุฎุฏู ูุงุฆูุฉ ุฃุณุนุงุฑ.

### ุฎูุงุฑุงุช ูุฐุง ุงูุญูู:

* **ุฃูู ุณุนุฑ (MinPrice)**
* **ุฃูุตู ุณุนุฑ (MaxPrice)**
* **ุงูุณุนุฑ ุงูุงูุชุฑุงุถู (DefaultPrice)**
  ุชุชูุญ ูู ุงุณุชุฎุฏุงู ุงูููู ุงูููุงุจูุฉ ููุง ุฏุงุฎู ูุงุฆูุฉ ุงูุฃุณุนุงุฑ ุฃู ุณุทุฑ ุชุนุฑูู ุงููุญุฏุฉ ุฏุงุฎู ุงูุตูู.

* **ุงูุณุนุฑ ุงููุฎุตุต (CustomPrice)**
* **ุฑูู 1 (N1)** ุฅูู **ุฑูู 5 (N5)**
  ุชุชูุญ ูู ุงุณุชุฎุฏุงู ุงูููู ุงูููุงุจูุฉ ููุง ุฏุงุฎู ูุงุฆูุฉ ุงูุฃุณุนุงุฑ.
---

### ูุซุงู ุชุทุจููู:

ูู ุฃุฑุฏุช ุฃู ูุชู ุชุณุนูุฑ ููุงุชูุฑ ุงูุฌููุฉ ุจูุงุกู ุนูู "ุฃูู ุณุนุฑ"ุ ูู ูุง ุนููู ูุนูู ูู:

1. ูุชุญ ุชุตููู ุงููุงุชูุฑุฉ ุงููุณุชุฎุฏู ูู ุงูุฌููุฉ.
2. ุถุจุท ุงูุญูู **`ุงูุณุนุฑ ุงูุงูุชุฑุงุถู ูู ูุงุฆูุฉ ุงูุฃุณุนุงุฑ`** ููููู ุนูู ุงููููุฉ **"ุฃูู ุณุนุฑ (MinPrice)"**.
3. ุญูุธ ุงูุชุบููุฑุงุช.

ุจุนุฏ ุฐููุ ุฃู ูุงุชูุฑุฉ ุฌุฏูุฏุฉ ุชุชุจุน ูุฐุง ุงูุชุตููู ุณุชุณุชุฎุฏู ุฃูู ุณุนุฑ ูุชุงุญ ููุตูู ุจุดูู ุชููุงุฆู ูู ููุทุฉ ุงูุจูุน.

## ููู ูุญุฏุฏ ุงููุธุงู ุงูุณุนุฑ ุงููุณุชุฎุฏู ูู ุงููุงุชูุฑุฉ ุจูุงุกู ุนูู ุญูู **`ุงูุณุนุฑ ุงูุงูุชุฑุงุถู ูู ูุงุฆูุฉ ุงูุฃุณุนุงุฑ`**ุ

ููููู ุงูุชุญูู ูู ุงูุณุนุฑ ุงููุณุชุฎุฏู ุฏุงุฎู ููุงุชูุฑ ุงูุจูุน ูู ุฎูุงู ุญูู **`ุงูุณุนุฑ ุงูุงูุชุฑุงุถู ูู ูุงุฆูุฉ ุงูุฃุณุนุงุฑ`**ุ ููู ูุชุงุญ ูู ุนุฏุฉ ุฃูุงูู ุฏุงุฎู ุงููุธุงู.

### ุฃูุงูู ุชููุฑ ุงูุญูู:

ูุธูุฑ ูุฐุง ุงูุญูู ูู ุงูุฃูุงูู ุงูุชุงููุฉ (ูุฑุชุจุฉ ุญุณุจ ุฃููููุฉ ุงูุชุทุจูู):

1. **ุงูุนููู (Customer)**
2. **ุชูุฌูู ุงููุงุชูุฑุฉ (Document Term)**
3. **ูุฆุฉ ุงูุนููู (Customer Category)**
4. **ุชุตููู ุงูุนููู (Customer Classy)**
5. **ุชุตููู ุงููุงุชูุฑุฉ (Invoice Classification)**
6. **ูุญุฏุฏ ุณุนุฑ 1 (Price Classifier 1)**
7. **ูุญุฏุฏ ุณุนุฑ 2 (Price Classifier 2)**
8. **ูุญุฏุฏ ุณุนุฑ 3 (Price Classifier 3)**
9. **ูุญุฏุฏ ุณุนุฑ 4 (Price Classifier 4)**
10. **ูุญุฏุฏ ุณุนุฑ 5 (Price Classifier 5)**
11. **ุฅุนุฏุงุฏุงุช Supply Chain**

### ุขููุฉ ุงูุงุฎุชูุงุฑ:

ูููู ุงููุธุงู ุจุงูุจุญุซ ุนู ุฃูู ูููุฉ ูุนุฑูุฉ ููุฐุง ุงูุญูู ุญุณุจ ุงูุชุฑุชูุจ ุฃุนูุงู.
ุจูุนูู ุขุฎุฑุ ุฅุฐุง ููุฌุฏุช ูููุฉ ููุฐุง ุงูุญูู ูู ููู ุงูุนูููุ ูุณูุชู ุงุณุชุฎุฏุงููุง ูุจุงุดุฑุฉ.
ุฃูุง ุฅุฐุง ูู ุชูู ูุนุฑูุฉุ ูุณููุชูู ุงููุธุงู ุชููุงุฆููุง ุฅูู ุงูููู ุงูุชุงูู ูู ุงูุชุฑุชูุจ (ุชูุฌูู ุงููุงุชูุฑุฉุ ุซู ุชุตููู ุงูุนููู... ูููุฐุง) ุญุชู ูุฌุฏ ุฃูู ูููุฉ ูุนุฑูุฉ.

### ูุซุงู ุชูุถูุญู:

ุฅุฐุง ููุช ูุฏ ุถุจุทุช ุงูุญูู "ุงูุณุนุฑ ุงูุงูุชุฑุงุถู ูู ูุงุฆูุฉ ุงูุฃุณุนุงุฑ" ูู **ุชุตููู ุงููุงุชูุฑุฉ** ุนูู "ุฃูู ุณุนุฑ"ุ ูููู ูุฏูู ุฃูุถูุง ุถุจุท ูุฎุชูู ุฏุงุฎู **ุงูุนููู**ุ ูุณูุฃุฎุฐ ุงููุธุงู ุงููููุฉ ุงูููุฌูุฏุฉ ูู ุงูุนููู ููุชุฌุงูู ูุง ูู ุชุตููู ุงููุงุชูุฑุฉุ ูุฃู **ุงูุนููู ูู ุฃููููุฉ ุฃุนูู** ูู ุงูุชุฑุชูุจ.

---

### ููุฎุต:

* ูููู ุชุฎุตูุต ูุตุฏุฑ ุงูุณุนุฑ ููู ููุน ูู ุงูุนููุงุก ุฃู ุงูููุงุชูุฑ ุญุณุจ ูููุน ุงูุถุจุท.
* ุงูุฃููููุฉ ุชุจุฏุฃ ูู ููู ุงูุนููู ูุชูุชูู ุจุฅุนุฏุงุฏุงุช Supply Chain.
* ูููู ุชุญุฏูุฏ ุงููููุฉ ูู ุฃูู ูููุน ุถูู ุงูุชุฑุชูุจ ููุชู ุงุนุชูุงุฏูุง ุชููุงุฆููุง ูู ุงูุชุณุนูุฑ ุฏุงุฎู ุงููุงุชูุฑุฉ.

### โ ููู ูููู ุญุณุงุจ ุชูููุฉ ูุงุชูุฑุฉ ุชุญุชูู ุนูู ุฃุตูุงู ูุฑูุจุฉ (ูุซู ุงูุจูุฌุงุช) ูุชู ุตุฑู ููููุงุชูุง ูู ุงููุฎุฒูู ูููุณ ุงูุตูู ููุณูุ

ุนูุฏ ุงูุชุนุงูู ูุน ูุงุชูุฑุฉ ุชุญุชูู ุนูู ุฃุตูุงู ูุฑูุจุฉ ูุซู:

> `ุจูุฌ 6 ุนุทูุฑ ููุด ุจูุงู + ููุด ุฌููุฏ + ุฏุฑููุฒ ุจุงูุงุณ + ุงู ุฐุง ูููุฏ + ููุณุชูุฑู ููุช + ููุด ุงู ุจุฒูุณ`

ูุฅู ุนูููุฉ ุงูุตุฑู ุงููุฎุฒูู ูุง ุชุชู ุนูู ุงูุตูู ุงููุฑูุจ ููุณูุ ุจู ุชุชู ุนูู ููููุงุชู ุงููุฑุนูุฉุ ูุซู:

* ุนุทุฑ ููุด ุจูุงู `NESH BLACK`
* ุนุทุฑ ููุด ุฌููุฏ `NESH GOLD`
* ุนุทุฑ ุฏุฑููุฒ ุจุงูุงุณ `DREAMS PALACE`
* ูุบูุฑูุง...

ูุจุงูุชุงููุ ูุง ูุธูุฑ ุงูุตูู ุงูุฑุฆูุณู (ุงูุจูุฌ) ูู ุณูุฏ ุงูุตุฑู ุงููุฎุฒููุ ุจู ูุชู ุตุฑู ูู ูููู ูู ููููุงุชู ูุฃุตูุงู ูุณุชููุฉ. ูุญุณุงุจ ุงูุชูููุฉ ุงูุญููููุฉ ููุฐู ุงููุงุชูุฑุฉุ ูุฌุจ ุงุญุชุณุงุจ ุชูููุฉ ุงูููููุงุช ุงููุณุชุฎุฏูุฉ ูู ูู ุตูู ูุฑูุจุ ูููุณ ุงูุตูู ุงููุฑูุจ ููุณู.

---

### ููููุฉ ุงูุฑุจุท ุจูู ุงูุตูู ุงููุฑูุจ ูููููุงุชูุ

ูุชู ุฑุจุท ูู ูููู ุจุงูุตูู ุงููุฑูุจ ุนุจุฑ ุงูุญูู `masterRowId` ุงูููุฌูุฏ ูู ุฌุฏูู `SalesInvoiceLine`:

* ุงูุณุทุฑ ุงูุฎุงุต ุจุงูุตูู ุงููุฑูุจ (ูุซู "ุจูุฌ ุงูุนุทูุฑ") ูุญุชูู ุนูู `masterRowId = NULL`
* ุฃูุง ุงูุณุทูุฑ ุงูุฎุงุตุฉ ุจุงูููููุงุช (ูุซู "NESH BLACK") ุชุญุชูู ุนูู `masterRowId = <ID ุงูุฎุงุต ุจุงูุณุทุฑ ุงูุฑุฆูุณู>`

---

### ุฎุทูุงุช ุญุณุงุจ ุงูุชูููุฉ:

1. **ุงุจุฏุฃ ูู ุฌุฏูู ููุงุชูุฑ ุงููุจูุนุงุช** ูุชุญุฏูุฏ ุงููุงุชูุฑุฉ ุงููุทููุจุฉ.
2. **ุงุฌูุจ ูู ุณุทุฑ ุฑุฆูุณู** ูู ุงููุงุชูุฑุฉ (ุงูุฐู `masterRowId IS NULL`).
3. **ุงุจุญุซ ุนู ุงูุณุทูุฑ ุงููุฑุนูุฉ** ุงููุฑุชุจุทุฉ ุจู ุนุจุฑ `SalesInvoiceLine.masterRowId`.
4. **ุงุจุญุซ ุนู ุณุทุฑ ุงูุตุฑู ุงููุฎุฒูู** ุงูููุงุจู ููู ูููู ุฃู ููุณุทุฑ ุงูุฃุตูู ุฅู ูู ุชูุฌุฏ ููููุงุช.
5. **ุงุฑุจุท ุจุณุฌู ุงูุชูููุฉ** (`CostOutTransLine`) ุนุจุฑ `originLineId`.
6. **ุงุณุชุฎุฏู ุงูุฏุงูุฉ `coalesce(sub.id, l.id)`** ูุงุฎุชูุงุฑ ุงููููู ุฅุฐุง ููุฌุฏุ ุฃู ุงูุณุทุฑ ุงูุฑุฆูุณู ุฅุฐุง ูู ููู ูู ููููุงุช.
7. **ุงุณุชุจุนุฏ ุงูุณุทูุฑ ุงูุชู ููุง `masterRowId`** ุนูุฏ ุงูุชุฌููุนุ ูุฃู ุชูููุฉ ุงูููููุงุช ุณุชูุญุชุณุจ ุจุงููุนู.

---

### ุงุณุชุนูุงู SQL ูุญุณุงุจ ุชูููุฉ ูู ุตูู ูุฑูุจ ูู ุงููุงุชูุฑุฉ

::: details SQL Query to Calculate cost of a sales invoice

```sql
select 
  l.itemCode,
  l.item_id,
  sum(co.totalCost) as cost
from SalesInvoice s
left join SalesInvoiceLine l on l.salesInvoice_id = s.id
left join SalesInvoiceLine sub on sub.masterRowId = l.id
left join StockIssueLine sil on sil.sourceLineId = coalesce(sub.id, l.id)
left join CostOutTransLine co on co.originLineId = sil.id
where s.code = 'Salla2025229014'
  and l.masterRowId is null
group by l.itemCode, l.item_id
```

:::

---

- ููุงุญุธุฉ ุฅุถุงููุฉ:

ูู ุฃุฑุฏุช ููุท **ุฅุฌูุงูู ุชูููุฉ ุงููุงุชูุฑุฉ ุจุงููุงูู** ุจุฏูู ุชูุงุตูู ุงูุฃุตูุงูุ ููููู ุชุนุฏูู ุงูุงุณุชุนูุงู ุงูุณุงุจู ุจูุฐุง ุงูุดูู:
::: details SQL Query to Calculate total cost of a sales invoice
```sql
select 
  sum(co.totalCost) as total_invoice_cost
from SalesInvoice s
left join SalesInvoiceLine l on l.salesInvoice_id = s.id
left join SalesInvoiceLine sub on sub.masterRowId = l.id
left join StockIssueLine sil on sil.sourceLineId = coalesce(sub.id, l.id)
left join CostOutTransLine co on co.originLineId = sil.id
where s.code = 'Salla2025229014'
  and l.masterRowId is null
```
:::

---

### ููููุฉ ุญุณุงุจ ุงูุชูููุฉ ุงููุคูุชุฉ ููุชูุฑูุฏ ุงููุฎุฒูู ูู ุฃูุฑ ุงูุดุฑุงุกุ

ูุญุณุงุจ ุงูุชูููุฉ ุงููุคูุชุฉ ููุชูุฑูุฏ ุงููุฎุฒูู ุจูุงุกู ุนูู ุฃูุฑ ุงูุดุฑุงุกุ ููุฑุฌู ุงุชุจุงุน ุงูุฎุทูุงุช ุงูุชุงููุฉ:

ูู ุชูุฌูู ุงูุชูุฑูุฏ ุงููุฎุฒูู ูู ุจุงูุชุงูู:
1. ุชูุนูู ุฎููุงุฑ **ุชุณููู ุบูุฑ ูููู.**
2. ุชูุนูู ุฎููุงุฑ **ุญุณุงุจ ุงูุชูููุฉ ุงููุคูุชุฉ ูู ุจูุงุกุง ุนูู (ุฃูุฑ ุดุฑุงุก)**.

ูู ุฅุนุฏุงุฏุงุช ุงูู **Supply Chain** ูู ุจุงูุชุงูู:
1. ูุนูู ุฎูุงุฑ **ุชุฌุงูู ูุชูุณุท ุงูุชูููุฉ ุงูุญุงููุฉ ููุชูุฑูุฏุงุช ุบูุฑ ุงูููููุฉ**
<SupplyChainOption option-code="value.ignoreCurrentAvgForUnCostedReceipt" link-title="ุชุฌุงูู ูุชูุณุท ุงูุชูููุฉ ุงูุญุงููุฉ ููุชูุฑูุฏุงุช ุบูุฑ ุงูููููุฉ" />
2. ุญุฏุฏ **ุชูููุฉ ุงูุณุทุฑ** ูู ุฃูู ูุตุฏุฑ ุฏุงุฎู ุฌุฑูุฏ ูุตุงุฏุฑ ุงูุชูููุฉ ููุชูุฑูุฏ ุงูุบูุฑ ูููู.
<SupplyChainOption option-code="value.costSources" link-title="ุฌุฑูุฏ ูุตุงุฏุฑ ุงูุชูููุฉ ููุชูุฑูุฏ ุงูุบูุฑ ูููู" />

---

## ููุงุฐุง ููุจู ุงููุธุงู ุจุญูุธ ุณูุฏุงุช ุชูุฑูุฏ ุจูููุฉ ุฃูุจุฑ ูู ุงููููุฉ ุงูููุฌูุฏุฉ ูู ูุงุชูุฑุฉ ุงููุดุชุฑูุงุชุ

ุฅุฐุง ูุงุญุธุช ุฃู ุงููุธุงู ูุณูุญ ุจุญูุธ ุณูุฏ ุชูุฑูุฏ ูุญุชูู ุนูู ูููุฉ ุฃูุจุฑ ูู ุงููููุฉ ุงููุฏุฎูุฉ ูู ูุงุชูุฑุฉ ุงููุดุชุฑูุงุชุ ูุงูุณุจุจ ูู ุชูุนูู ุฎูุงุฑ **"ุชูุฒูุน ุงูุชูููุฉ ุนูู ุงููููุฉ ุงูููุฑุฏุฉ ุจุบุถ ุงููุธุฑ ุนู ุงููููุฉ ุจุงููุงุชูุฑุฉ"** (DistributeCostBasedOnReceiptQty) ูู ุชูุฌูู ูุงุชูุฑุฉ ุงููุดุชุฑูุงุช.

- *ูุงุฐุง ููุนู ูุฐุง ุงูุฎูุงุฑุ*

ุนูุฏ ุชูุนูู ูุฐุง ุงูุฎูุงุฑ:

1. **ูุณูุญ ุจุฃู ุชููู ูููุฉ ุงูุชูุฑูุฏ ูุฎุชููุฉ ุนู ูููุฉ ุงููุงุชูุฑุฉ** - ุณูุงุก ุฃูุซุฑ ุฃู ุฃูู
2. **ููุฒุน ุฅุฌูุงูู ุชูููุฉ ุงููุงุชูุฑุฉ ุนูู ุงููููุฉ ุงูููุฑุฏุฉ ูุนููุงู** - ูููุณ ุนูู ุงููููุฉ ุงููุฐููุฑุฉ ูู ุงููุงุชูุฑุฉ

- *ุงููุชูุฌุฉ ุงูุนูููุฉ*

ุณุชูุงุญุธ ุฃู **ุชูููุฉ ุงููุญุฏุฉ ุชุฎุชูู** ุจูู ูุงุชูุฑุฉ ุงููุดุชุฑูุงุช ูุณูุฏ ุงูุชูุฑูุฏ ุงููุฎุฒูู.

**ูุซุงู:**
- ูุงุชูุฑุฉ ูุดุชุฑูุงุช: 100 ูุญุฏุฉ ร 10 ุฑูุงู = 1000 ุฑูุงู ุฅุฌูุงูู
- ุณูุฏ ุชูุฑูุฏ: 120 ูุญุฏุฉ (ูููุฉ ูุนููุฉ ูุณุชููุฉ)
- ุชูููุฉ ุงููุญุฏุฉ ูู ุงูุชูุฑูุฏ = 1000 รท 120 = 8.33 ุฑูุงู

::: tip ูุชู ููุณุชุฎุฏู ูุฐุง ุงูุฎูุงุฑุ
ููุณุชุฎุฏู ูู ุงูุญุงูุงุช ุงูุชู ุชุฎุชูู ูููุง ุงููููุฉ ุงููุนููุฉ ุงููุณุชููุฉ ุนู ุงููููุฉ ุงููุชูู ุนูููุง ูู ุงููุงุชูุฑุฉุ ูุน ุฑุบุจุฉ ุงูุนููู ูู ุชูุฒูุน ูุงูู ูููุฉ ุงููุงุชูุฑุฉ ุนูู ุงููููุฉ ุงูููุฑุฏุฉ ูุนููุงู.
:::

::: warning ููุงุญุธุฉ
ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฅูุฒุงู ุงููุธุงู ุจูุทุงุจูุฉ ุงููููุฉ ูู ุณูุฏ ุงูุชูุฑูุฏ ูุน ุงููููุฉ ูู ูุงุชูุฑุฉ ุงููุดุชุฑูุงุชุ ุชุฃูุฏ ูู **ุนุฏู ุชูุนูู** ูุฐุง ุงูุฎูุงุฑ ูู ุชูุฌูู ุงููุงุชูุฑุฉ.
:::

---

## ูุง ุงููุฑู ุจูู ุงูุชุญููู ุงููุฎุฒููุ ูุชุญููู ุงูุตุฑู ุงููุฎุฒููุ ูุชุญููู ุงูุงุณุชูุงู ุงููุฎุฒููุ

ููุงู ุซูุงุซ ุฃููุงุน ูู ุงูุชุญูููุงุช ุงููุฎุฒููุฉ ูู ุงููุธุงูุ ููููุง ููุง ููุณ ุงูุบุฑุถ ุงูุฃุณุงุณู ูููููุง ุชุฎุชูู ูู ุทุฑููุฉ ุงูุชุทุจูู ุญุณุจ ุฏูุฑุฉ ุงูุนูู ูุฏู ุงูุนููู:

### ๐ฆ ุณูุฏ ุชุญููู ูุฎุฒูู (StockTransfer)
- **ุงูุงุณุชุฎุฏุงู:** ุชุญููู ูุจุงุดุฑ ูู ุณูุฏ ูุงุญุฏ ูู ูุฎุฒู ุฅูู ูุฎุฒู ุขุฎุฑ
- **ุงููุนูู:** ููู ุงูุจุถุงุนุฉ ูุจุงุดุฑุฉ ูู ุงููุฎุฒู ุงููุตุฏุฑ ุฅูู ุงููุฎุฒู ุงููุฏู

### ๐ค ุตุฑู ุชุญููู ูุฎุฒูู (IssueStockTransfer)  
- **ุงูุงุณุชุฎุฏุงู:** ุตุฑู ุงูุจุถุงุนุฉ ูู ุงููุฎุฒู ุงูุฃุตูู ุฅูู "ุจุถุงุนุฉ ุจุงูุทุฑูู"
- **ุงููุนูู:** ุงูุฎุทูุฉ ุงูุฃููู ูู ุนูููุฉ ุงูุชุญููู - ุฅุฎุฑุงุฌ ุงูุจุถุงุนุฉ ูู ุงููุฎุฒู ุงูุฃุตูู

### ๐ฅ ุงุณุชูุงู ุชุญููู ูุฎุฒูู (ReceiptStockTransfer)
- **ุงูุงุณุชุฎุฏุงู:** ุงุณุชูุงู ุงูุจุถุงุนุฉ ูู "ุจุถุงุนุฉ ุจุงูุทุฑูู" ุฅูู ุงููุฎุฒู ุงููุฏู
- **ุงููุนูู:** ุงูุฎุทูุฉ ุงูุซุงููุฉ ูู ุนูููุฉ ุงูุชุญููู - ุฅุฏุฎุงู ุงูุจุถุงุนุฉ ูููุฎุฒู ุงูุฌุฏูุฏ

---

### ๐ ุงููุฑู ูู ุงูุชุทุจูู:

#### **ุงูุทุฑููุฉ ุงูุฃููู: ุงูุชุญููู ุงููุจุงุดุฑ**
- ุงุณุชุฎุฏุงู `StockTransfer` ููุท
- ุนูููุฉ ูุงุญุฏุฉ ุชููู ุงูุจุถุงุนุฉ ูุจุงุดุฑุฉ ูู ูุฎุฒู ูุขุฎุฑ

#### **ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุงูุชุญููู ุงููุฑุญูู**  
- ุงุณุชุฎุฏุงู `IssueStockTransfer` ุซู `ReceiptStockTransfer`
- ุนูููุชุงู ูููุตูุชุงู:
  1. ุตุฑู ูู ุงููุฎุฒู ุงูุฃุตูู โ ุจุถุงุนุฉ ุจุงูุทุฑูู
  2. ุงุณุชูุงู ูู ุจุถุงุนุฉ ุจุงูุทุฑูู โ ุงููุฎุฒู ุงููุฏู

---

### ๐ฏ ูุชู ูุณุชุฎุฏู ูู ููุนุ

::: tip **ุงูุชุญููู ุงููุจุงุดุฑ (StockTransfer)**
- ุนูุฏูุง ุชููู ุงููุฎุงุฒู ูู ููุณ ุงููููุน
- ุนูุฏูุง ูุง ูุญุชุงุฌ ูุชุชุจุน ูุฑุงุญู ุงูููู
- ููุนูููุงุช ุงูุณุฑูุนุฉ ูุงููุจุงุดุฑุฉ
:::

::: info **ุงูุชุญููู ุงููุฑุญูู (Issue + Receipt)**
- ุนูุฏูุง ุชููู ุงููุฎุงุฒู ูู ููุงูุน ูุฎุชููุฉ
- ุนูุฏูุง ูุญุชุงุฌ ูุชุชุจุน ุงูุจุถุงุนุฉ ุฃุซูุงุก ุงูููู
- ุนูุฏูุง ูุฏ ุชุณุชุบุฑู ุนูููุฉ ุงูููู ููุชุงู ุทูููุงู
- ูุชุญูู ุฃูุจุฑ ูู ุนูููุงุช ุงูุตุฑู ูุงูุงุณุชูุงู
:::

**ุงูุฎูุงุตุฉ:** ุงูุซูุงุซ ุฃููุงุน ุชุญูู ููุณ ุงููุชูุฌุฉ ุงูููุงุฆูุฉุ ููู ุงูุงุฎุชูุงุฑ ุจูููู ูุนุชูุฏ ุนูู ุฏูุฑุฉ ุงูุนูู ูุงูุญุงุฌุฉ ูุชุชุจุน ูุฑุงุญู ุงูููู.

---

</rtl>