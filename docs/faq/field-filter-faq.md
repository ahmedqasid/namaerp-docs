<rtl>

# أسئلة شائعة حول فلترة الحقول

## كيف يمكن فلترة مرجع 1 في جرد البنود ليعرض نفس الأصناف الموجودة في التفاصيل؟

### السؤال:

أنا أستخدم مرجع 1 في جرد البنود لجلب الأصناف، وأريد أن يظهر فقط نفس الأصناف التي تم اختيارها في التفاصيل. الكود الذي كتبته هو:

```tempo
{loop(details)}
termsLines.ref1,Equal,{details.item.item.code},OR;
{endloop}
```

### الإجابة:

الواضح أنك تريد فلترة حقل `termsLines.ref1` بحيث يعرض فقط الأصناف التي تم اختيارها في `details.item.item`.

لكن يوجد خطأ في الكود المستخدم:

* عند كتابة شرط الفلترة، يجب أن تكتب **اسم الحقل داخل شاشة الصنف** (وهي الشاشة التي يتم الفلترة فيها)، وليس اسم الحقل داخل المستند الذي تستعمله.
* استخدام `termsLines.ref1` داخل الشرط غير صحيح، لأن هذا الحقل يُستخدم فقط لتحديد أين سيتم تطبيق الفلتر، وليس داخل شرط الفلترة نفسه.

### التصحيح:

استخدم الحقول كما هي موجودة في **شاشة الصنف**، كالتالي:

إذا أردت الفلترة حسب الكود:

```tempo
{loop(details)}
code,Equal,{details.item.item.code},OR;
{endloop}
```

وإذا أردت الفلترة بشكل أدق باستخدام رقم المعرف:

```tempo
{loop(details)}
id,Equal,{details.item.item.id},OR;
{endloop}
```

### ملاحظة:

تأكد من أنك تستخدم اسم الحقل الصحيح الموجود في شاشة الكيان الذي يتم الفلترة عليه، وليس اسم الحقل في المستند المصدر.

</rtl>
