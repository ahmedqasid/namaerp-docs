<rtl>

# أسئلة شائعة عن الموافقات 
## إعداد الموافقة على سند التحويل بناءً على المخزن المستلم

في حال وجود عدة مخازن، ولكل مخزن **أمين مخزن** ومدير مباشر مختلف، وترغب بأن تكون **الموافقة على سند التحويل من مسؤولية المخزن الذي ستُرسل إليه البضاعة** (وليس المخزن المُرسل)، يمكنك تحقيق ذلك من خلال إعداد الموافقة على النحو التالي:

### الحل

* قم بإنشاء **تعريف موافقة** للكيان `StockTransfer`.
* أضف خطوة موافقة يكون المسؤول فيها محددًا بناءً على **حقل داخل السند**.
* استخدم الحقل التالي لتحديد المسؤولين:

```
toWarehouse.warehouseKeeper,toWarehouse.warehouseKeeper.directSupervisor
```

وذلك يعني أن الموافقة ستكون من:

* **أمين المخزن المستلم**
* **المدير المباشر لأمين المخزن المستلم**

---

::: details اضغط لعرض ملف JSON للاستيراد المباشر

```json
{
  "approvalEntity": "StockTransfer",
  "steps": [
    {
      "stepSeq": 1,
      "name1": "موافقة أمين المخزن",
      "responsible": {
        "responsibleType": "Field",
        "fieldId": "toWarehouse.warehouseKeeper,toWarehouse.warehouseKeeper.directSupervisor"
      }
    }
  ]
}
```

:::

بهذا الإعداد، يقوم النظام بتوجيه طلب الموافقة تلقائيًا إلى المسؤولين المعنيين في **المخزن المستلم**، مما يضمن سير عملية الموافقة وفق التسلسل الإداري المعتمد.

</rtl>