<rtl>

# أسئلة شائعة حول نقاط البيع

## لماذا تظهر طريقة الدفع الآجل في شاشة الدفع رغم تفعيل خيار إخفائها من الإعدادات؟

عند تفعيل خيار **"إخفاء طريقة الدفع الآجل الافتراضية للنظام"** من إعدادات نقاط البيع، يُتوقع ألا تظهر طريقة الدفع الآجل في شاشة الدفع.

- المشكلة:

رغم تفعيل هذا الخيار، تستمر طريقة الدفع الآجل في الظهور في شاشة الدفع.

- السبب:

هذا السلوك يحدث إذا كانت صلاحية "إمكانية الدفع الآجل" مفعّلة للمستخدم في صلاحيات نقاط البيع.

- الحل:

قم بإلغاء تفعيل الصلاحية التالية من إعدادات صلاحيات نقاط البيع للمستخدم:

* **اسم الصلاحية:** إمكانية الدفع الآجل

بذلك يتم احترام إعداد إخفاء الدفع الآجل، ولن تظهر الطريقة في شاشة الدفع.

## س: عند إغلاق الوردية ظهر خطأ "طريقة الدفع مدى مكرر على أكثر من سطر"، ما سبب ذلك؟ وكيف يمكن حله؟

**ج:**
السبب في ظهور هذا الخطأ هو أن طريقة الدفع (مثل "مدى") تم تعديل خصائصها بعد استخدامها في حركات فعلية، تحديدًا تم تغيير خاصية `'طريقة نقدي'` في تعريف طريقة الدفع.
نتيجة لذلك، ظهرت نفس طريقة الدفع في أكثر من سطر عند إغلاق الوردية: مرة كطريقة نقدية، ومرة كطريقة غير نقدية (مثل بنكية أو آجلة)، مما سبب تكرارًا غير مسموح به.

**الحل:**
لحل هذه المشكلة، استخدم الأداة البرمجية التالية داخل نظام نقاط البيع:

```
com.namasoft.pos.util.plugnplay.POSPaymentMethodToggledCashProperty
```

مرر إليها **كود طريقة الدفع** التي حدث بها التغيير.

::: tip

* لمزيد من التفاصيل حول تشغيل الأدوات البرمجية داخل نقاط البيع، راجع القسم الخاص بها في [دليل استعمال النقاط الفنية في نقاط البيع](../guide/supplychain/nama-pos.md)
* النص الأصلي لرسالة الخطأ: `Payment method {0} repeated in multi line`
:::

## كيف يمكن إنشاء كشف حركة مخزنية للأصناف يعمل من داخل نقاط البيع؟

**السؤال:** هل يمكن إنشاء تقرير كشف حركة مخزنية للأصناف ليعمل من داخل نقاط البيع، بحيث يعرض الوارد والمنصرف والرصيد خلال فترة محددة؟

**الإجابة:**

نعم، يمكن إنشاء مثل هذا التقرير باتباع الخطوات التالية:

### خطوات الإنشاء:

1. **إنشاء التقرير على النظام الرئيسي:**
   - قم بإنشاء التقرير أولاً على نظام نما الرئيسي
   - تأكد من أن التقرير يعمل بشكل صحيح ويعرض البيانات المطلوبة (الوارد، المنصرف، الرصيد)

2. **اختبار التقرير:**
   - تأكد من صحة البيانات المعروضة
   - اختبر التقرير بفترات زمنية مختلفة للتأكد من دقة النتائج

3. **تفعيل التقرير في نقاط البيع:**
   - انتقل إلى **تعريف التقرير** في النظام الرئيسي
   - فعّل الخيارات التالية:

   **أ. مستخدم في نقاط البيع (`usedInPOS`):**
   - قم بتفعيل هذا الخيار ليصبح التقرير متاحاً في واجهة نقاط البيع

   **ب. تشغيل على قاعدة بيانات خادم النقاط (`runOnPosServerDB`):**
   - فعّل هذا الخيار لضمان تشغيل التقرير على قاعدة بيانات الخادم
   - هذا يضمن الحصول على بيانات محدثة وشاملة من جميع النقاط

::: tip نصائح مهمة
- تأكد من اختبار التقرير بشكل شامل على النظام الرئيسي قبل تفعيله في النقاط
- استخدام قاعدة بيانات الخادم يضمن دقة البيانات عبر جميع نقاط البيع
- يمكن الوصول للتقرير من داخل نقاط البيع بعد تفعيل الخيارات المذكورة
:::

</rtl>
