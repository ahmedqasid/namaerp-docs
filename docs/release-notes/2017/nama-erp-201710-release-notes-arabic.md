<rtl>

# ملاحظات إصدار نما ERP - أكتوبر 2017

::: info معلومات الإصدار
**تاريخ الإصدار:** أكتوبر 2017  
**رقم الإصدار:** 201710
:::

## الإضافات

### نظام المخزون
- تم إضافة الخيار **"عرض علاقات تصنيفات الأصناف"** بإعدادات إدارة التوزيع.
- تم إضافة حقول التسليم إلى الصرف المخزني.
- تم إضافة التعديلات التالية بملف الصنف:
  - إمكانية إضافة الصنف إلى قائمة سعر معينة وذلك من خلال زرار في شاشة الصنف (إضافة الصنف إلى قائمة سعر)، وعند الضغط على الزر، يتم فتح قوائم الأسعار وذلك لاختيار قائمة سعر معينة لإدراج الصنف بها، وعند اختيار قائمة سعر معينة يتم إدراج الصنف كآخر صنف في قائمة السعر
  - ملاحظات على الصنف أثناء إدراجه:
    - الصنف له إصدارات: تعليم الخيار (فرد الإصدارات مع اختيار الصنف).
    - الصنف له مقاسات: تعليم الخيار (فرد المقاسات والألوان مع اختيار الصنف).
    - ودائما تعليم الخيار (فرد الوحدات مع اختيار الصنف).
- تم إضافة مسار الكيان **"EAUniCreteGenItems"** ليقوم بإنشاء الأصناف آليا عن طريق تباديل من تصنيفات الأصناف.
- تم إضافة وحدة البيع والشراء والأساسية إلى مجموعة الوحدات (يونى كريت).
- تم إضافة شاشة - لجنة الجرد الإلكتروني - لتطبيق StockTaking.
- تم إضافة إمكانية ربط تصنيف 4 بـ 3 و 2 و 1.
- تم تحسين النظام بحيث يتم تتبع المستند الذي تم نسخ السطور منه على مستوى السطر في سندات المبيعات والمشتريات وكل سندات التوزيع.
- **الصنف: الأسعار - قوائم أسعار البيع:** تم إضافة: الوحدة - الإصدار - تصنيف الفاتورة على الترتيب، كما يكون الترتيب الافتراضي لقوائم الأسعار حسب الأولوية من الأقل للأعلى.

### نظام المبيعات
- تم عمل مسار الكيان **"EAUniCreteGenSalesInvoiceFromStockIssue"** يقوم بعمل فاتورة مبيعات من سند الصرف بالكمية المنصرفة بالإضافة إلى أصناف الخدمة الموجودة في أمر البيع حسب الكمية ويكون بناءً على أمر البيع (يونى كريت).
- تم نسخ محددات الأسعار من الفواتير مع بناءا على.
- في سندات البيع، تم إضافة ثلاثة حقول علي السطر معدل التوريد وتاريخ بداية التوريد وفترة التوريد (يونى كريت).
- في أمر البيع وفاتورة المبيعات، تم إدراج سعر الأصناف الإضافية بصورة تلقائية بمجرد اختيار الصنف الرئيسي.
- **قائمة الأسعار:** تم إضافة الخيارات التالية:
  - فرد الإصدارات مع اختيار الصنف
  - فرد الوحدات مع اختيار الصنف
  - فرد المقاسات والألوان مع اختيار الصنف
- **قائمة الأسعار:** تم إضافة زرار فرد بيانات السطر المحدد. طريقة العمل في حالة اختيار أحد الاختيارات يقوم بفرد جميع البيانات من الصنف للسطر المحدد وأيضا في حالة اختيار أحد الخيارات واختيار صنف في السطور، يتم فرد بيانات الصنف تلقائيا بدون الضغط على الزر.
- عند إنشاء عروض أسعار على الفئة أو القسم بحيث يقوم النظام بإدراج صنف مجاني للصنف الأقل سعراً، يقوم النظام بإدراج الصنف المجاني للصنف الأكبر سعراً.
- تم إضافة 5 تصنيفات لفاتورة المبيعات خاصة بقوائم الأسعار والعروض.

### نظام المشتريات
- تم عمل مسارين كيان واحد للتعتيق والاخر للنقل يقومان بعمل فاتورتين مشتريات الأولى لخدمة النقل وأخرى للتعتيق من فاتورة المبيعات (يوني كريت).
- **فاتورة المشتريات:** تم التحسين بحيث عند اختيار مستند دفع إيصال صرف، يقوم النظام بجعل حقل المبلغ (في سندات الدفع) يأتى من المبلغ الموجود في إيصال الصرف، وعمل فلترة على العميل في إيصالات الصرف.

### نظام المراجعة
- تم عمل تعديلات على شاشة مواد القانون.
- تم فصل الإجراءات - الرقابة والأساسية - وكل ما هو مرتبط بها إلى رقابة بمفردها وأساسية بمفردها.
- تم إضافة الشاشات (القانون، فصل، مادة، اللوائح، فصل، مادة، التعاميم، تعاميم القانون، تعاميم اللوائح).

### نظام الاعتمادات المستندية
- **بند المصروف:** تم إضافة نوع الحافظة بجوار الجانب الدائن، وكذلك إضافة العملة.
- **سندات المصروفات:** تم ملء حقول العملة، والجانب الدائن، ونوع الحافظة السابق تعريفهم في بند المصروف عند اختيار بند المصروف.

### نظام مقاولات الصيانة
- تم إضافة التعديلات التالية في المناقصة-العمالة:
  - إضافة حقل الإضافي (Overday) الشهري = الراتب المثبت + الراتب الغير مثبت + التكلفة بالشهر.
  - تعديل معادلة حقل (إجمالي الراتب الشهري) = الإضافي (Overday) الشهري × عدد العمالة.
  - توزيعات الخدمات على بنود المناقصة.
- تم إضافة التعديلات التالية في المناقصة-الرئيسية:
  - حقل المناقصة إجباري، وعند اختياره، يتم ملء حقل مدة المناقصة ويتم متابعة بنود المناقصة المختارة في مستند التوزيع وعدم اختيار بند خارج المناقصة.
  - إمكانية إضافة عدد من الخدمات على أن يتم استخدام الخدمات المدرجة فقط في التوزيع على بنود المناقصة.
  - بعد الحفظ، منع التعديل في بنود الخدمات المستخدمة في التوزيع.
  - التكلفة الشهرية، إجمالي تكلفة مدة العقد عبارة عن حقول تحتوي على إجمالي الموجود ببنود المناقصة.
  - إضافة حقل الفئة بعد حقل العدد في كل صفحات المستند وهو عبارة عن ملف الوحدات.
- **مقاولات الصيانة: توزيع الخدمات على المناقصات:** تم إنشاء مستند لتوزيع قيمة الخدمات على بنود المناقصات.
- **المناقصات:** تم تعديل المعادلات وفقا للمرفق.
- **الرئيسية:** تم إظهار إجماليات البنود تلقائيا وذلك من خلال البنود التي لها قيم في المناقصة، وتقسم إلى بنود حسب نوع البند السابق تعريفه.
- **بنود التشغيل والصيانة:** تم مراجعة الإجماليات بعد التعديل لأنها غير صحيحة والمسميات معكوسة.
- **بنود المعدات والأدوات:** تم إضافة ملف المعدة على السطر، مع مراعاة في حالة اختيار ملف معدة فإنه لا يمكن الكتابة في حقل الكود يدوياً.
- **إعدادات مقاولات الصيانة:** تم إضافة آلية لخانات الكسر المسموح بها داخل موديول مقاولات الصيانة.

### نظام الموارد البشرية
- تم إضافة مساري كيان أحدهما لجعل تاريخ الإنشاء في بداية اليوم والآخر في نهاية اليوم كالتالي:
  - EASetCreationDateToStartOfDay
  - EASetCreationDateToEndOfDay
- تم إضافة القسم **"معالجة إضافي الأيام التي بها أكثر من عطلة (أسبوعية - رسمية - إجازة)"** إلى إعدادات الموارد البشرية لمعالجة وجود يوم في أكثر إجازة، تحتوي على الحقول التالية:
  - عطلة رسمية وعطلة أسبوعية.
  - عطلة رسمية وإجازة
  - عطلة أسبوعية وإجازة
  - عطلة رسمية وعطلة أسبوعية وإجازة
- **سند إنهاء خدمة:** تم تغيير حالة الموظف عند تطابق تاريخ انتهاء العمل مع تاريخ اليوم فقط.
- تم عمل آلية لترقية الموظف لمعرفة مفردات الراتب من تاريخ إلى تاريخ، مع إمكانية عمل موافقات على ذلك عند الترقية.
- تم حذف قائمة الاختيار **"معدل الأداء"** من ملف مؤشر الأداء حيث أنه توجد قائمة تؤدي نفس الغرض بملف المعادلة.
- **التأمينات الاجتماعية:** تم إضافة (الأساسي التأميني الثابت - المتغير) الموجودين بالعرض الوظيفي إلى (وعاء التأمينات الثابتة - المتغيرة).
- **سند الراتب:** في بعض الأحيان مفرد التأخير لا يقوم بالتسميع في السند.
- تم إضافة خيار لإعدادات الموارد البشرية بحيث يتم تسجيل كل خطوات حساب الراتب في ملف اللوج لاكتشاف أخطاء التجهيز بطريقة أسرع.

### نظام التصنيع
- **أمر الإنتاج:** تم جعل حقل المخزن غير مطلوب في أمر الإنتاج.
- **تسليم منتج:** تم جعل المخزن المنسوخ في التسليم هو مخزن التسليم بالسطور في تنفيذ الإنتاج.
- تم إضافة الخيار **"نسخ المخزن من سطور أمر الإنتاج إلي سطور ارتجاع المواد الخام"** في إعدادات التصنيع.

### نظام مراكز الخدمة
- تم ربط سطر أمر البيع بسطر أمر الشغل.

### نظام خدمة العملاء
- تم إضافة تاريخ النقاش ووقته داخل طلب التطوير وطلب الدعم.

### نظام البنوك
- تم عمل مسار الكيان **EAReverseLedgerTrans** والذي يمكنه إلغاء القيد المحاسبي لأي سند موجود بحقل داخل السند.
- تم إضافة خاصية القيد المختصر بداخل توجيه إصدار خطابات الضمان.
- تم إضافة حقل خاص بالمرفق بكل من المستندات (تعديل خطاب ضمان، إغلاق خطاب ضمان، تسليم خطاب ضمان، إصدار خطاب ضمان، استلام خطاب ضمان).

### نظام نقطة البيع
- تم إضافة الخيار **"الارتجاع بها مع عدم خفض العمولة في الفاتورة الأصلية"** حتى إذا كانت الفاتورة قد تم دفعها بطريقة دفع فيها هذا الخيار قد تم تعليمه لابد أن تكون موجودة في المردود وبنفس نسبة الدفع (نسبة القيمة المدفوع بها إلى إجمالي الفاتورة).
- تم إضافة إمكانية في استعراض مردودات المبيعات والاستبدال وهي أن يتم البحث بكود فاتورة المبيعات بالإضافة إلى البحث بكود المستند نفسه.

### نظام الاستثمار العقاري
- تم إضافة خيار داخل توجيه المستند **"السماح بفترات محاسبية غير افتتاحية في عقد البيع الافتتاحي"**.

## الإعدادات

- تم تطوير تعديلات كبيرة جداً في طريقة حساب الضرائب والخصومات.
- تم إضافة استعلام التطبيق واستعلام عدم التطبيق إلى مسار الكيان بالإضافة إلى معيار التطبيق ومعيار عدم التطبيق كما تم إضافة نفس البيانات إلي السطور.
- تم إضافة الجريد الخاصة بحقول الترتيب بصفحة تعديل قائمة الاختيار.
- تم إضافة المرفقات إلى جميع سندات النظام.
- تم إضافة إمكانية كتابة صيغة الشرح في توجيه المستند علي أن تكون قالب أو query sql أو نص وتكون مع كل جانب محاسبي.
- تم إضافة إمكانية لتكويد المستندات الأرشيفية من داخل المجموعات بحيث يكون هناك كود بديل بجانب الكود الأساسى بصيغة تكويد مختلفة.
- تم إضافة الاختيارات الآتية إلى الإعدادات العامة:
  - قيمة ضريبة 1 للإجمالي وليس لكل وحدة
  - قيمة ضريبة 2 للإجمالي وليس لكل وحدة
  - قيمة ضريبة 3 للإجمالي وليس لكل وحدة
  - قيمة ضريبة 4 للإجمالي وليس لكل وحدة
- تم إضافة مسار الكيان **EAShortenLedger** لاختصار القيود إذا وجد سند بدون الأوبشن في التوجيه.

## التقارير

- تم جعل نماذج الشاشات النظامية بأولوية أقل ولا تطبع إلا في حالة عدم وجود نموذج آخر.
- تم إضافة خيار لمنع التعديل على التقارير النظامية.
- تم مسح بيانات كتالوج التقارير عند عمل نسخة مماثلة من التقرير.
- تم تطوير الطباعة بحيث يكون اسم الملف PDF لطباعة المستندات (فواتير المبيعات على سبيل المثال) بكود المستند نفسه وليس بكود نموذج الطباعة.

## الأخطاء

### نظام المخزون
- في شاشة طلب الصرف المجمع في التفاصيل حقل طلب الصرف، عند الضغط على علامة البحث واختيار أكثر من طلب صرف والضغط على إدراج بالنهاية، يتم إدراجهم ولكن برقم الطلب فقط دون أي بيانات.
- عند تكويد صنف بكود صنف يدوي، وهذا الكود هو كود إصدار لصنف آخر، تظهر رسالة لا يمكن تنفيذ العملية، والصواب أن توضح رسالة الخطأ أن كود الصنف هو كود إصدار لصنف رقم ......

### نظام المبيعات
- **فاتورة المبيعات:** في التفاصيل حقل تم النسخ من سند عند اختيار أكثر من مستند بها يتم إدراج كل تفاصيل المستندات بالكامل وعند الإدراج مرة أخرى يتم الإضافة على ما تمت إضافته من قبل.
- **قوائم الأسعار:** عند كتابة أقل سعر وأقصى سعر على التوالي 10، 15 والسعر الافتراضي 14، فإنه مع الحفظ يقوم النظام بنقل السعر الافتراضي لأقل سعر وأقصى سعر 14.

### نظام المشتريات
- عند أحد العملاء، يوجد في ملف المورد مجموعة تسمى الموردين تقوم بالتكويد الآلي عند إضافة أي مورد عليها حالياً، وعند حذفه تظهر رسالة لا يمكن تنفيذ العملية.

### نظام التصنيع
- **مستند تنفيذ الإنتاج:** عند الحفظ مع تعليم الخيار **"تسليم المنتج تلقائياً"**، تظهر رسالة خطأ لا يمكن ترك نوع المنتج فارغاً وتخص السطور والسطور لا تحتوي على حقل باسم نوع المنتج.

## الإعدادات

- في الحقول المطلوبة بناء على تحقق شرط عند شرط على السطور مثال (الحساب يساوي X) يطبق الشرط على كل السطور وليس السطر الذي يحقق الشرط فقط والصواب أن يتم على السطر الذي يحقق الشرط فقط.

### نظام نقطة البيع
- حدث الجرد لا يؤثر على إجماليات الورديات.
- عند إدراج أحد الأصناف الذي تم تحديد سعره بوحدة أكبر بقائمة السعر، عندما يتم إدخال هذا الصنف لأول مرة بنقطة البيع، يقوم النظام بإدراجه بالوحدة الموجودة بقائمة السعر، فإذا ما قام المستخدم بتغيير الوحدة لا يقوم النظام بتغيير السعر تبعاً لذلك، وحينما يقوم المستخدم بتغيير الكمية يقوم النظام بتصحيح السعر.
- عند إضافة ترجمة لبعض للحقول (محدد سعر 1...محدد سعر5) بنقطة البيع، لا يقوم النظام بتغيير الترجمة من العربية إلى الإنجليزية والعكس عند التحويل من الواجهة العربية إلى الإنجليزية والعكس.
- يمكن للمستخدم استخدام طريقة دفع بالماكينة بالرغم من عدم تعليم الخيار **"تستخدم مع برنامج نقاط البيع"** بملف طريقة الدفع.
- عند استدعاء فاتورة قديمة، يقوم النظام بجعل جميع حقول النافذة غير مفعلة، فإذا ما قام المستخدم وهو بطور الفاتورة القديمة بفتح أحد الفواتير المعلقة، يقوم النظام بفتح الفاتورة المعلقة بنفس طور الفاتورة القديمة، بمعنى أن جميع الحقول تكون غير مفعلة.
- **فاتورة المردودات،** عند تغيير الكمية يختفي السعر.
- يقوم النظام بإعطاء تاريخ غلق الوردية نفس التاريخ الخاص بفتح الوردية وهو الذي يؤدي إلى أخطاء عندما تتخطى الوردية اليوم الحالي.
- يقوم النظام بتسجيل وقت فتح الوردية ووقت غلق الوردية الاثنان بنفس وقت غلق الوردية.
- يقوم النظام بإعطاء تاريخ ووقت فتح الوردية نفس التاريخ والوقت الخاص بغلق الوردية.
- **نافذة فتح الوردية:**
  - العنوان **"وقت الوردية"** يجب أن يكون **"وقت بدء الوردية"**.
  - العنوان **"التاريخ"** يجب أن يكون **"تاريخ بدء الوردية"**.
- **نافذة انتهاء الوردية:**
  - العنوان **"وقت الوردية"** يجب أن يكون **"وقت انتهاء الوردية"**.
  - العنوان **"التاريخ"** يجب أن يكون **"تاريخ انتهاء الوردية"**.
- يمكن للمستخدم إدخال خصم للفاتورة بحيث يأخذ من العميل المبلغ كاملاً بالطريقة التالية:
  - إدراج الأصناف المراد بيعها
  - إدخال خصم على الفاتورة مع عدم خروج المؤشر من حقل الخصم
  - الضغط على المفتاح (F5) أو أيقونة الدفع، فيقوم النظام بإظهار شاشة الدفع بدون خصومات وبالتالي يمكن تحصيل قيمة الفاتورة بدون خصم من العميل بينما سيتم تسجيل الفاتورة بنما بخصم.
- بنفس الفكرة السابقة يمكن عمل الآتي:
  - إدراج الأصناف المراد بيعها
  - إدخال خصم على الفاتورة ثم إدخال مفتاح الإدخال (Enter) ليظهر أثر الخصم بقيمة الفاتورة
  - إدخال القيمة (0) بحقل الخصم مع الحرص على عدم خروج المؤشر من الحقل
  - الضغط على المفتاح (F5) أو أيقونة الدفع، فيقوم النظام بإظهار شاشة الدفع معتبر الخصم بينما الخصومات قد تم إلغاؤها من الفاتورة.
- الخيار **"رقم العملية مطلوب"** والموجود بملف **"طريقة دفع"** لا يعمل في نقاط البيع.
- عند إصدار فاتورة مبيعات بنوع الدفع الافتراضية، لا يقوم النظام بإدراج طريقة الدفع بنافذة طرق الدفع بفاتورة نقطة البيع الناتجة بنما، وحينما تكون الفاتورة مدفوعة بأكثر من طريقة لطرق الدفع، يقوم النظام بإدراج جميع طرق الدفع باستثناء سطر القيمة التلقائية حيث يقوم بإدراج القيمة ولا يقوم بإدراج طريقة الدفع بالحقل (طريقة الدفع).
- عند إصدار فاتورة مردود، يقوم النظام بفاتورة مردود نقطة البيع بنما - صفحة طرق الدفع بإدراج المبلغ بدون إدراج طريقة الدفع (كاش).
- يسمح النظام للمستخدم بنافذة الدفع المتعدد بإدخال رقم العملية بدون إدخال قيمة بنوع الدفع المقابل.
- عند فتح نافذة (استعلام عن سعر صنف)، عند البحث بحقل **"كود الصنف"**، لا يمكن اختيار أحد الأصناف ثم الضغط على الزر **"موافق"** ليقوم النظام بعرض السعر، وإنما يتحتم على المستخدم إدخال الصنف يدوياً أو عن طريق الباركود لاستعراض السعر.

### نظام البنوك
- **سند تعديل خطاب ضمان:** تم إضافة toDate.toValues في المجموعة الأولي بدلاً من values.toDate.
- **سند تعديل خطاب ضمان:** عند اختيار خطاب الضمان المراد تعديله لا يتم ظهور معلومة (تاريخ الانتهاء) المطلوب ظهورها عند اختيار الضمان المراد تعديله وقبل الحفظ.

### نظام الاعتمادات المستندية
- عند عمل سند مصروف بشحنة ليس لها فاتورة مبدئية، يتم حفظ المستند بدون إنشاء قيد نظامي، والصواب أن يمنع الحفظ وتظهر رسالة أن الشحنة الموجودة في سند المصروف ليس لها فاتورة مبدئية.

### نظام الاستثمار العقاري
- **عقد المشروع:** التأثير المحاسبي للعقود على السطور لا يعمل بطريقة صحيحة مع (لا يطبق علي).
- عند عمل مستخلص مشروع في حقل بناء على حصر كمية، لا يقوم النظام بجلب البيانات ومن ثم تظهر رسالة فارغة.

### نظام المقاولات
- الخيار الذي يتيح رؤية المشاريع التي تم إيقاف استخدامها في التقارير وخلافه، لا يعمل في شاشة الاقتراح (عند كتابة جزء من الاسم أو الكود والضغط على سهم لأسفل).

### نظام الحسابات
- عند حفظ سند صرف به تكويد أوراق مالية وتوجد بيانات للورقة ناقصة، لا تظهر رسالة خطأ صحيحة ولكن رسالة فارغة.
- في شاشة طلب التمويل عند الوقوف على حقل المبلغ في السطور يتم حذف القيمة تلقائياً.

### نظام مراكز الخدمة
- **شاشة المنتج:** رابط الخدمات لا يعمل.
- **أمر الشغل:** في بعض الأحيان، كل من زر إنشاء فاتورة عميل وزر إنشاء فاتورة ضمان يعملان خطأ.

## خطأ عام

- لا يعتبر النظام الدفتر والتوجيه عند الطباعة.
- عند حذف مستند ويوجد به مرفق لا يقبل الحذف.

## التقارير

- عند حذف تقرير واستعادته مرة أخرى يظهر خطأ فارغ.

</rtl>